# –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Å—Ö–µ–º–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç Core API

{
    "metadata": {
        "message_id": 12345,  # ID —Å–æ–æ–±—â–µ–Ω–∏—è –≤ core
        "conversation_id": "conv_abc123",
        "processing_time_ms": 245,
        "assistant_slug": "english_teacher_v2"
    },
    "content": {
        "type": "text",  # text, photo, document, audio, voice, video, media_group, sticker, location, contact, poll
        "text": "–ü—Ä–∏–≤–µ—Ç! –ß–µ–º —è –º–æ–≥—É –≤–∞–º –ø–æ–º–æ—á—å —Å–µ–≥–æ–¥–Ω—è?",  # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
        "caption": "",  # –ü–æ–¥–ø–∏—Å—å –∫ –º–µ–¥–∏–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
        "media": [
            {
                "type": "photo",
                "url": "https://example.com/image.jpg",
                "width": 800,
                "height": 600,
                "file_size": 120000
            }
        ],
        "keyboard": {
            "type": "inline",
            "buttons": [
                {
                    "text": "üìö –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ",
                    "callback_data": "menu:study"
                },
                {
                    "text": "üéØ –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç",
                    "callback_data": "menu:test"
                }
            ],
            "layout": [2]
        }
    },
    "effects": {
        "message_effect_id": "5046509860389126442",  # ID —ç—Ñ—Ñ–µ–∫—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        "silent": false,  # –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –±–µ–∑ –∑–≤—É–∫–∞
        "pin": false  # –ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
    },
    "context": {
        "conversation_state": "active",
        "session_data": {
            "last_topic": "grammar",
            "difficulty_level": "intermediate"
        }
    },
    "actions": {
        "save_to_history": true,
        "notify_admin": false,
        "trigger_event": "user_engaged"
    }
}

# –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç

{
    "metadata": {
        "message_id": 12346,
        "conversation_id": "conv_abc123"
    },
    "content": {
        "type": "text",
        "text": "–ü—Ä–∏–≤–µ—Ç! –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å. –ß–µ–º —è –º–æ–≥—É –≤–∞–º –ø–æ–º–æ—á—å —Å–µ–≥–æ–¥–Ω—è?"
    }
}

# –§–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é –∏ –∫–Ω–æ–ø–∫–∞–º–∏

{
    "metadata": {
        "message_id": 12347,
        "conversation_id": "conv_abc123"
    },
    "content": {
        "type": "photo",
        "text": "–í–æ—Ç –ø—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º—ë–Ω –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º:",
        "media": [
            {
                "type": "photo",
                "url": "https://example.com/tenses_chart.jpg",
                "width": 1200,
                "height": 800
            }
        ],
        "keyboard": {
            "type": "inline",
            "buttons": [
                {
                    "text": "–ï—â–µ –ø—Ä–∏–º–µ—Ä—ã",
                    "callback_data": "more_examples:tenses"
                },
                {
                    "text": "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å",
                    "callback_data": "ask_question"
                }
            ],
            "layout": [2]
        }
    }
}

# –ú–µ–¥–∏–∞-–≥—Ä—É–ø–ø–∞ (–∞–ª—å–±–æ–º)

{
    "metadata": {
        "message_id": 12348,
        "conversation_id": "conv_abc123"
    },
    "content": {
        "type": "media_group",
        "text": "–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞:",
        "media": [
            {
                "type": "photo",
                "url": "https://example.com/example1.jpg",
                "width": 800,
                "height": 600
            },
            {
                "type": "photo",
                "url": "https://example.com/example2.jpg",
                "width": 800,
                "height": 600
            },
            {
                "type": "video",
                "url": "https://example.com/explanation.mp4",
                "width": 1280,
                "height": 720,
                "duration": 45
            }
        ]
    }
}

# –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

{
    "metadata": {
        "message_id": 12349,
        "conversation_id": "conv_abc123"
    },
    "content": {
        "type": "voice",
        "text": "–ü–æ—Å–ª—É—à–∞–π—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—Å—è —ç—Ç–æ —Å–ª–æ–≤–æ:",
        "media": [
            {
                "type": "voice",
                "url": "https://example.com/pronunciation.ogg",
                "duration": 3.5
            }
        ]
    }
}